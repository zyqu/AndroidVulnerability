// Decompiled by Jad v1.5.8e. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.geocities.com/kpdus/jad.html
// Decompiler options: packimports(3) 

package com.rearden;

import android.content.Intent;
import android.database.Cursor;
import com.phonegap.api.Plugin;
import com.phonegap.api.PluginResult;
import org.apache.cordova.api.CordovaInterface;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public class ContactView extends Plugin
{

    public ContactView()
    {
    }

    public PluginResult execute(String s, JSONArray jsonarray, String s1)
    {
        startContactActivity();
        PluginResult pluginresult = new PluginResult(org.apache.cordova.api.PluginResult.Status.NO_RESULT);
        pluginresult.setKeepCallback(true);
        callback = s1;
        return pluginresult;
    }

    public volatile org.apache.cordova.api.PluginResult execute(String s, JSONArray jsonarray, String s1)
    {
        return execute(s, jsonarray, s1);
    }

    public void onActivityResult(int i, int j, Intent intent)
    {
        String s = null;
        i;
        JVM INSTR tableswitch 1 1: default 24
    //                   1 25;
           goto _L1 _L2
_L1:
        return;
_L2:
        if(j != -1) goto _L1; else goto _L3
_L3:
        Cursor cursor;
        android.net.Uri uri = intent.getData();
        cursor = ctx.managedQuery(uri, null, null, null, null);
        if(!cursor.moveToFirst()) goto _L1; else goto _L4
_L4:
        String s1 = cursor.getString(cursor.getColumnIndex("_id"));
        if(Integer.parseInt(cursor.getString(cursor.getColumnIndex("has_phone_number"))) != 1) goto _L6; else goto _L5
_L5:
        Cursor cursor1 = ctx.managedQuery(android.provider.ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, (new StringBuilder("contact_id='")).append(s1).append("'").toString(), null, null);
_L8:
        if(cursor1.moveToNext()) goto _L7; else goto _L6
_L6:
        String s2 = cursor.getString(cursor.getColumnIndexOrThrow("display_name"));
        JSONObject jsonobject = new JSONObject();
        try
        {
            jsonobject.put("name", s2);
            jsonobject.put("phone", s);
        }
        catch(JSONException jsonexception)
        {
            jsonexception.printStackTrace();
        }
        success(new PluginResult(org.apache.cordova.api.PluginResult.Status.OK, jsonobject), callback);
          goto _L1
_L7:
        s = cursor1.getString(cursor1.getColumnIndex("data1"));
          goto _L8
    }

    public void startContactActivity()
    {
        Intent intent = new Intent("android.intent.action.PICK");
        intent.setType("vnd.android.cursor.dir/contact");
        ctx.startActivityForResult(this, intent, 1);
    }

    private static final int PICK_CONTACT = 1;
    private String callback;
}
